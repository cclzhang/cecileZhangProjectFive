(this["webpackJsonprestaurant-tracker"]=this["webpackJsonprestaurant-tracker"]||[]).push([[0],{37:function(t,e,a){},38:function(t,e,a){},47:function(t,e,a){},66:function(t,e,a){},67:function(t,e,a){},68:function(t,e,a){},69:function(t,e,a){},70:function(t,e,a){"use strict";a.r(e);var n=a(9),s=a(32),r=a.n(s),c=(a(37),a(38),a(11)),i=a(12),o=a(14),u=a(13),l=a(20);l.a.initializeApp({apiKey:"AIzaSyD4Ovgdxhj-ZdoIxf2P3PW8etBnRpMLnsc",authDomain:"ccl-restaurant-tracker.firebaseapp.com",databaseURL:"https://ccl-restaurant-tracker.firebaseio.com",projectId:"ccl-restaurant-tracker",storageBucket:"ccl-restaurant-tracker.appspot.com",messagingSenderId:"221018574164",appId:"1:221018574164:web:f6bab51aab45495413ccc1",measurementId:"G-5572PJX23Z"}),l.a.analytics();var p=l.a,h=a(23),d=a(22),b=(a(47),a(3)),j=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).removeHandler=function(e){p.database().ref(t.props.refKey).child(e).remove()},t.infoBox=function(t,e,a){return Object(b.jsxs)("div",{className:"infoBox",children:[Object(b.jsx)("h4",{children:Object(b.jsx)("a",{href:e,children:t})}),Object(b.jsxs)("p",{children:["-- ",a]})]})},t.classDecider=function(){return t.state.visibility?"editInput":"editInput hidden"},t.editClick=function(e){e.preventDefault(),t.setState({visibility:!t.state.visibility})},t.state={visibility:!1},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return this.props.listType.map((function(e,a){return Object(b.jsxs)("li",{children:[e.name?t.infoBox(e.name,e.url,e.type):Object(b.jsx)("h4",{className:"infoBox",children:e.data}),Object(b.jsxs)("div",{className:t.classDecider(),children:[Object(b.jsx)("input",{type:"search",id:"edit"}),Object(b.jsx)("label",{htmlFor:"edit",children:"type another restaurant"}),Object(b.jsx)("button",{children:"edit"})]}),Object(b.jsxs)("div",{className:"buttonBox",children:[Object(b.jsx)("button",{id:a,onClick:function(e){return t.editClick(e)},children:Object(b.jsx)(d.a,{icon:h.a})}),Object(b.jsx)("button",{onClick:function(){t.removeHandler(e.key)},children:Object(b.jsx)(d.a,{icon:h.b})})]})]},e.key)}))}}]),a}(n.Component),f=a(19),v=a.n(f),m=(a(66),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).buttonHandler=function(e){e.preventDefault();var a=p.database().ref(t.props.refKey);v()({url:"https://developers.zomato.com/api/v2.1/search",method:"GET",responseType:"json",params:{apikey:"3a17fa134b021257dcadfb7e21140fdb",q:t.props.userInput,count:3,lat:43.653908,lon:-79.384293,radius:1e3}}).then((function(e){var n={name:e.data.restaurants[0].restaurant.name,type:e.data.restaurants[0].restaurant.cuisines,url:e.data.restaurants[0].restaurant.url};a.push(n),t.setState({userInput:""})})).catch((function(){a.push(t.props.userInput),t.setState({userInput:""})}))},t.button=function(t){t.preventDefault(),console.log("error")},t}return Object(i.a)(a,[{key:"render",value:function(){return this.props.userInput.replace(/\s/g,"")?Object(b.jsx)("button",{onClick:this.buttonHandler,children:this.props.btnDetails}):Object(b.jsx)("button",{onClick:this.button,children:this.props.btnDetails})}}]),a}(n.Component)),O=(a(67),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(b.jsx)("section",{className:this.props.class,children:this.props.show.map((function(e){return Object(b.jsxs)("div",{className:"detailsBin",onClick:function(a){return t.props.handler(a,e.restaurant.name)},children:[Object(b.jsx)("h4",{children:e.restaurant.name}),Object(b.jsxs)("p",{children:["-- ",e.restaurant.location.address]})]},e.restaurant.id)}))})}}]),a}(n.Component)),y=(a(68),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this)).handleChange=function(t){t.target.value.replace(/\s/g,"")?(v()({url:"https://developers.zomato.com/api/v2.1/search",method:"GET",responseType:"json",params:{apikey:"3a17fa134b021257dcadfb7e21140fdb",q:t.target.value,count:5,lat:43.653908,lon:-79.384293,radius:1e3}}).then((function(t){n.setState({autoComplete:!0,restaurants:t.data.restaurants})})).catch((function(){console.log("we could not find the restaurant you were looking for")})),n.setState({userInput:t.target.value})):n.setState({autoComplete:!1,userInput:t.target.value})},n.selectedHandler=function(t,e){t.preventDefault(),n.setState({userInput:e,autoComplete:!n.state.autoComplete})},n.handleKeyPress=function(t){"Enter"===t.key&&n.setState({autoComplete:!n.state.autoComplete})},n.state={userInput:"",restaurants:[],autoComplete:t.popup},n}return Object(i.a)(a,[{key:"submitHandler",value:function(t){t.preventDefault()}},{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.submitHandler,className:"wrapper",children:[Object(b.jsx)("input",{type:"search",name:"restaurantChoice",id:"restaurantChoice",onChange:this.handleChange,value:this.state.userInput,onKeyPress:this.handleKeyPress}),this.state.autoComplete?Object(b.jsx)(O,{class:"autoComplete",show:this.state.restaurants,handler:this.selectedHandler}):Object(b.jsx)(O,{class:"invisible",show:this.state.restaurants,handler:this.selectedHandler}),Object(b.jsx)("label",{htmlFor:"restaurantChoice",children:"type in the restaurant list"}),Object(b.jsx)("button",{className:"invisible",type:"submit",tabIndex:"-1"}),Object(b.jsxs)("div",{className:"buttonDetails",children:[Object(b.jsx)(m,{refKey:"wantList",userInput:this.state.userInput,btnDetails:"+ to wants"}),Object(b.jsx)(m,{refKey:"favList",userInput:this.state.userInput,btnDetails:"+ to favourites"})]})]})}}]),a}(n.Component)),x=(a(69),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={favourites:[],wantToTry:[],autoComplete:!1,userInput:""},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=p.database().ref("favList"),a=p.database().ref("wantList");e.on("value",(function(e){var a=e.val(),n=[];for(var s in a){var r={key:s,name:a[s].name,url:a[s].url,type:a[s].type,data:a[s]};n.push(r)}t.setState({favourites:n})})),a.on("value",(function(e){var a=e.val(),n=[];for(var s in a){var r={key:s,name:a[s].name,url:a[s].url,type:a[s].type,data:a[s]};n.push(r)}t.setState({wantToTry:n})}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"restaurant tracker"}),Object(b.jsx)(y,{want:this.wantButtonHandler,fav:this.favButtonHandler,popup:this.state.autoComplete}),Object(b.jsxs)("section",{className:"allLists wrapper",children:[Object(b.jsxs)("section",{className:"list wantToTry",children:[Object(b.jsx)("h2",{children:"want to try"}),Object(b.jsx)("ul",{children:Object(b.jsx)(j,{listType:this.state.wantToTry,refKey:"wantList"})})]}),Object(b.jsxs)("section",{className:"list favourites",children:[Object(b.jsx)("h2",{children:"favourites"}),Object(b.jsx)("ul",{children:Object(b.jsx)(j,{listType:this.state.favourites,refKey:"favList"})})]})]}),Object(b.jsxs)("footer",{children:["\xa9 ",Object(b.jsx)("a",{href:"http://cecilezhang.com/",children:"Cecile Zhang"})," 2020 "]})]})}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(b.jsx)(x,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.fbe3f339.chunk.js.map